<ng-container *ngIf="loader; else loading">
    <div class=" sort-product">
        <div class="d-flex     justify-content-between">
            <button mat-mini-fab color="accent" [matMenuTriggerFor]="menu" >
         
                <mat-icon>sort</mat-icon>
               
              </button>
              <mat-menu #menu="matMenu" >
                <button mat-menu-item (click)="sortProduct('name', 'asc')">
                    <span>Sort name A-Z</span>
                </button>
                <button mat-menu-item (click)="sortProduct('name', 'desc')">
                    <span>Sort name Z-A</span>
                </button>
                <button mat-menu-item (click)="sortProduct('price', 'asc')">
                    <span>Sort price up</span>
                </button>
                <button mat-menu-item (click)="sortProduct('price', 'desc')"> 
                    <span>Sort price down</span>
                </button>
              </mat-menu>
              <div class="changeView">
                <mat-icon class="icon-view" (click)="changeView('grid')">view_comfy</mat-icon>
                <mat-icon class="icon-view" (click)="changeView('list')">view_list</mat-icon>
              </div>
        </div>
        
        
         <div>
             <form (ngSubmit)="searchProduct()">
                <mat-form-field appearance="outline" >
                  <mat-label>Search</mat-label>
                  <input matInput  name="search" placeholder="Search" [(ngModel)]="search"  >
                  
                   </mat-form-field> 
                    <button mat-mini-fab color="accent" (click)="searchProduct()">
                      <mat-icon>search</mat-icon>
                    </button>
               
                </form>
            </div>
              
    </div>
<ng-container  *ngIf="products?.length > 0; else emptyProduct">
    <div class="d-flex">
        <div  class="col-lg-9 ">
            <div class="row">
<div [ngClass]="{'col-lg-12':view === 'list', 'col-lg-4':view === 'grid'}" *ngFor="let product of products">
    <app-product-item  [product]="product" ></app-product-item>
</div>
            </div>
            
        </div>
<div class="col-lg-3 ">
   <div class="d-flex align-items-center justify-content-between">
    <h2>Filters:</h2>
    <button type="button" class="btn" (click)="clearFilter()">Clear all filtrs</button>
   
   </div>
   
<mat-radio-group aria-label="Select an option"  [(ngModel)]="availabilityProduct" (change)="changeAvailability()">
    <div *ngFor="let availability of availabilities">
    <mat-radio-button [value]="availability.availability">{{availability.name}}</mat-radio-button>
    </div>
   
  </mat-radio-group>
</div>
    </div>


</ng-container>
<ng-template #emptyProduct>
Not found product
</ng-template> 
</ng-container> 
<ng-template #loading>
    <mat-progress-bar mode="buffer" style="background-color: cyan;"></mat-progress-bar>
</ng-template>

